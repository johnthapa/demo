(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(t,e,a){},42:function(t,e,a){"use strict";a.r(e);var n=a(2),s=a.n(n),i=a(13),c=a.n(i),r=a(14),u=a(15),l=a(17),o=a(16),d=(a(22),a(3)),h=a.n(d),j=a(0),b=function(t){Object(l.a)(a,t);var e=Object(o.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).state={mode:"list",listing:"",searchQuery:"",currentEditData:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getAllData()}},{key:"getAllData",value:function(){var t=this;h.a.get("https://server.codeconsciousness.com/").then((function(e){t.setState({listing:e.data,mode:"list",searchQuery:""})}))}},{key:"submitSearchQuery",value:function(t){var e=this;h.a.post("https://server.codeconsciousness.com/api/searchData",{query:this.state.searchQuery}).then((function(t){e.setState({listing:t.data})}))}},{key:"editForm",value:function(t){this.setState({restaurant_id:t.restaurant_id,name:t.name,address:t.address,url:t.url,neighbourhood:t.neighbourhood,longitude:t.longitude,latitude:t.latitude,mode:"edit"})}},{key:"updateData",value:function(){var t=this,e={restaurant_id:this.state.restaurant_id,name:this.state.name,address:this.state.address,neighbourhood:this.state.neighbourhood,longitude:this.state.longitude,latitude:this.state.latitude,url:this.state.url};h.a.post("https://server.codeconsciousness.com/api/updateData",{data:e}).then((function(e){t.getAllData()}))}},{key:"render",value:function(){var t=this;return Object(j.jsx)("div",{className:"App",children:this.state.listing.length>0&&"list"==this.state.mode?Object(j.jsxs)("div",{class:"wrapper",children:[Object(j.jsx)("h1",{children:"Demo Project"}),Object(j.jsxs)("div",{class:"searchWrapper",children:[Object(j.jsx)("input",{type:"text",name:"searchRestaurant",value:this.state.searchQuery,placeholder:"Search Restaurant",onChange:function(e){t.setState({searchQuery:e.target.value})}}),Object(j.jsx)("button",{onClick:function(){t.submitSearchQuery("restaurant")},children:"Search"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){t.getAllData()},children:"Clear search"})]}),Object(j.jsx)("div",{class:"searchWrapper"}),this.state.listing.map((function(e,a){return Object(j.jsx)("div",{class:"item",children:Object(j.jsx)("h3",{onClick:function(){t.editForm(e)},children:e.name})},a)}))]}):Object(j.jsxs)("div",{class:"editMode",children:[Object(j.jsx)("h1",{children:"Update Restaurant"}),Object(j.jsx)("label",{children:"Name"}),Object(j.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:function(e){t.setState({name:e.target.value})}}),Object(j.jsx)("label",{children:"Address"}),Object(j.jsx)("input",{type:"text",name:"address",value:this.state.address,onChange:function(e){t.setState({address:e.target.value})}}),Object(j.jsx)("label",{children:"Url"}),Object(j.jsx)("input",{type:"text",name:"url",value:this.state.url,onChange:function(e){t.setState({url:e.target.value})}}),Object(j.jsx)("label",{children:"Neighbourhood"}),Object(j.jsx)("input",{type:"text",name:"neighbourhood",value:this.state.neighbourhood,onChange:function(e){t.setState({neighbourhood:e.target.value})}}),Object(j.jsx)("label",{children:"longitude"}),Object(j.jsx)("input",{type:"text",name:"longitude",value:this.state.longitude,onChange:function(e){t.setState({longitude:e.target.value})}}),Object(j.jsx)("label",{children:"latitude"}),Object(j.jsx)("input",{type:"text",name:"latitude",value:this.state.latitude,onChange:function(e){t.setState({latitude:e.target.value})}}),Object(j.jsxs)("div",{class:"updatebtn",children:[Object(j.jsx)("button",{onClick:function(){t.updateData()},children:"Update"}),Object(j.jsx)("button",{onClick:function(){t.setState({mode:"list"})},children:"Cancel"})]})]})})}}]),a}(s.a.Component);c.a.render(Object(j.jsx)(b,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.11b865df.chunk.js.map